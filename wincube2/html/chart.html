<html>
    <head>
        <script src="https://d3js.org/d3.v7.min.js"></script>
        <link rel="stylesheet" href="../css/chart.css">
        <link rel="stylesheet" href="../css/hamburgers.css">
        <link rel="stylesheet" href="../css/background.css">
        <link rel="icon" href="../Img/logo.ico" type="image/x-icon"/><!--分頁LOGO-->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
    </head>
<body>
  <header class="header"> 
    <input type="checkbox" id="check">           
    <label for="check" class="check">
        ☰
    </label>
    <a href="../html/SIndexs.html" class="header_logo">
        <img src="../Img/logo.ico">
    </a>
    <nav class="manu"> 
        <ul class="manu-ul">                
            <li class="product_management"><a href="../html/product_management.html">商品管理</a></li>
            <li class="order-manu">
                <span>訂單管理</span>
                <ul class="order-ul">
                    <li><a href="../html/order_management.html">即時訂單資訊</a></li>
                    <li><a href="../html/order_management.html">已完成訂單</a></li>
                    <li><a href="../html/order_management.html">不成立訂單</a></li>
                    <li><a href="../html/order_management.html">運送中訂單</a></li>
                    <li><a href="../html/order_management.html">自取訂單</a></li>
                    <li><a href="../html/order_management.html">cargo貨運管理</a></li>
                </ul>
            </li>
            <li class="cargo"><a href="##">貨運管理系統</a></li>
            <li class="inaccount"><a href="../html/inaccount.html">進帳資料</a></li>
            <li class="charthtml"><a href="../html/chart.html">績效分析</a></li>
            <li class="Sbasic"><a href="../html/Sbasic.html">修改會員資料</a></li>                                   
        </ul> 
    </nav>          
        <div class="header-menu-logo">
            <a href="../html/SIndex.html" class="logo-a">
            <div>
                <img src="../Img/wincube.png">
            </div>
            </a> 
        </div>  
        <div class="search">                
            <span>您好!阿吉</span>
        </div>  
        <div class="sign-up">
            <form>
                <input type="submit" name="Log out" value="登出">
            </form>
        </div>     
</header>
    <div class="body-1">
        <!-- <p>績效分析</p>
        <hr> -->
        <div class="back datee">
            <span>資料期間</span>
            <input type="date"> - 
            <input type="date"> 
        </div>
        <div class="back">
          <div class="backk">
            <div class="back_1" onclick="change(1)">
              <div class="Tips">
                <span>銷售額</span>
                <span class="material-symbols-outlined" id="tip_1">
                  tips_and_updates
                </span>
                <span class="tip tips_1"> 
                  在統計時間區間內，全部訂單的商品銷售額，<br>
                  包含全部已付款、未付款的訂單和不成立的訂<br>
                  單、退貨的訂單
                </span>
              </div>
              <div class="back_2">
                <span>NT$1000</span>
                <span class="mouth">vs前12月</span>                
              </div>
              <div class="back_2_1">
                <div class="range">
                  <img src="../Img/reddown_1.png">
                </div>
                <span class="ammount">12%</span>
              </div>
            </div>
            <div class="back_1" onclick="change(2)">
              <div class="Tips">
                <span>訂單數</span>
                <span class="material-symbols-outlined" id="tip_2">
                  tips_and_updates
                </span>
                <span class="tip tips_2"> 
                  在統計時間區間內，全部訂單數。<br>
                  包含已付款、未付款、不成立的訂單<br>
                  、退貨和退款的訂單
                </span>
              </div>
              <div class="back_2">
                <span>1</span>
                <span class="mouth">vs前12月</span>
              </div>
              <div class="back_2_1">
                <div class="range">
                  <img src="../Img/greenup_1.png">
                </div>
                <span class="ammount">12%</span>
              </div>
            </div>
            <div class="back_1" onclick="change(3)">
              <div class="Tips">
                <span>平均訂單金額</span>
                <span class="material-symbols-outlined" id="tip_3">
                  tips_and_updates
                </span>
                <span class="tip tips_3"> 
                  在統計時間區間內，買家付款總金額除以<br>
                  訂單數
                </span>
              </div>
              <div class="back_2">
                <span>NT$320</span>
                <span class="mouth">vs前12月</span>
              </div>
              <div class="back_2_1">
                <div class="range">
                  <img src="../Img/reddown_1.png">
                </div>
                <span class="ammount">12%</span>
              </div>
            </div>
            <div class="back_1" onclick="change(4)">
              <div class="Tips">
                <span>頁面瀏覽數</span>
                <span class="material-symbols-outlined" id="tip_4">
                  tips_and_updates
                </span>
                <span class="tip tips_4"> 
                  所選時間區間內瀏覽您賣場和<br>
                  商品詳情頁的總次數<br>
                  （包括電腦版和手機版）
                </span>
              </div>
              <div class="back_2">
                <span>726</span>
                <span class="mouth">vs前12月</span>                            
              </div>
              <div class="back_2_1">
                <div class="range">
                  <img src="../Img/greenup_1.png">
                </div>
                <span class="ammount">12%</span>
              </div>
            </div>
          </div>
          <div class="chart char_1" id="char_1">
            <canvas id="myChart_1"></canvas>
          </div>
        </div>
    </div>
    <script>
        var chart_1=[0,0.5,0.78,0.36,0.66,0.58,0.49,0.33,0.25,0.13,0.26,0.76,0.53,0.3];  //第一個
        var chart_2=[0,0.9,0.75,0.46,0.36,0.68,0.79,0.93,0.15,0.33,0.46,0.86,0.03,0.8];  //第二個
        var chart_3=[0,0.3,0.28,0.56,0.96,0.233,0.755,0.199,0.45,0.83,0.66,0.56,0.23,0.9];  //第三個
        var chart_4=[0,0.42,0.69,0.24,0.83,0.17,0.44,0.73,0.49,0.44,0.58,0.97,0.227,0.7];   //第四個

        var back_1=document.getElementsByClassName('back_1');
        var chart_chart_1=chart_1;
        let chart_1n=0;
        var chart_chart_2=[];
        let chart_2n=1;
        var chart_chart_3=[];
        let chart_3n=1;
        var chart_chart_4=[];
        let chart_4n=1;
        creative();
          function change(chartn){
            if(chartn==1){
              chart_1n+=1;
              if(chart_1n%2!=0){
                back_1[0].style.borderTop='1px solid #E0E0E0';
                chart_chart_1=[];
                if(chart_chart_1.length==0&&chart_chart_2.length==0&&chart_chart_3.length==0&&chart_chart_4.length==0){
                  back_1[0].style.borderTop='blue 3px solid';
                  chart_chart_1=chart_1;
                  creative();
                }
                else{
                  creative();
                }                                
              }
              else{
                back_1[0].style.borderTop='blue 3px solid';
                chart_chart_1=chart_1;
                creative();
              }
            }
            if(chartn==2){
              chart_2n+=1;
              if(chart_2n%2!=0){
                back_1[1].style.borderTop='1px solid #E0E0E0';
                chart_chart_2=[];
                if(chart_chart_1.length==0&&chart_chart_2.length==0&&chart_chart_3.length==0&&chart_chart_4.length==0){
                  back_1[1].style.borderTop='red 3px solid';
                  chart_chart_2=chart_2;
                  creative();
                }
                else{
                  creative();
                }
              }
              else{
                back_1[1].style.borderTop='red 3px solid';
                chart_chart_2=chart_2;
                creative();
              }
            }
            if(chartn==3){
              chart_3n+=1;
              if(chart_3n%2!=0){
                back_1[2].style.borderTop='1px solid #E0E0E0';
                chart_chart_3=[];
                if(chart_chart_1.length==0&&chart_chart_2.length==0&&chart_chart_3.length==0&&chart_chart_4.length==0){
                  back_1[2].style.borderTop='green 3px solid';
                  chart_chart_3=chart_3;
                  creative();
                }
                else{
                  creative();
                }
              }
              else{
                back_1[2].style.borderTop='green 3px solid';
                chart_chart_3=chart_3;
                creative();
              }
            }
            if(chartn==4){
              chart_4n+=1;
              if(chart_4n%2!=0){
                back_1[3].style.borderTop='1px solid #E0E0E0';
                chart_chart_4=[];
                if(chart_chart_1.length==0&&chart_chart_2.length==0&&chart_chart_3.length==0&&chart_chart_4.length==0){
                  back_1[3].style.borderTop='yellow 3px solid';
                  chart_chart_4=chart_4;
                  creative();
                }
                else{
                  creative();
                }
              }
              else{
                back_1[3].style.borderTop='yellow 3px solid';
                chart_chart_4=chart_4;
                creative();
              }
            }                      
          }
          function creative(){
            var ctx = document.getElementById('myChart_1').getContext('2d');
            this.myChart_1 = new Chart(ctx, {
                type: 'line',
                data: {
                  labels: ["00","01","02","03","04","05" ,"06","07","08","09","10","11","12","13"],      //新增下方列
                  datasets: [{ 
                      data: chart_chart_1,
                      label: "銷售額",
                      borderColor: "rgb(62,149,205)",
                      backgroundColor: "rgb(62,149,205,0.01)",
                      borderWidth:2
                    }, { 
                      data: chart_chart_2,
                      label: "訂單數",
                      borderColor: "rgb(196,88,80)",
                      backgroundColor: "rgb(196,88,80,0.01)",
                      borderWidth:2
                    }, { 
                      data: chart_chart_3,
                      label: "平均訂單金額",
                      borderColor: "rgb(57,245,72)",
                      backgroundColor:"rgb(57,245,72,0.01)",
                      borderWidth:2
                    }, { 
                      data: chart_chart_4,
                      label: "頁面瀏覽數",
                      borderColor: "rgb(242,245,57)",
                      backgroundColor:"rgb(242,245,57,0.01)",
                      borderWidth:2
                    }
                  ]
                },
                  options: {
                    scales: {  // 縮放屬性
                      yAxes: [{  // 設定垂直軸 [使用陣列方式]
                        ticks: {  // 設定間隔數值
                          // 固定數值
                          min: 0,  // 最小是 0
                          max: 1,                    
                          // 建議數值
                          suggestedMin: 0,
                          suggestedMax: 2000,                          
                          // 值間隔
                          stepSize: 400,                          
                          // 增加數值文字
                          callback: function (value, index, values) {
                          }
                        }
                      }]
                    }
                  }                  
              }); 
              myChart_1.update();                         
          }            
    </script>
</body>
</html>